package vn.edu.iuh.fit.repositories;import org.springframework.data.domain.Page;import org.springframework.data.domain.Pageable;import org.springframework.data.jpa.repository.EntityGraph;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import org.springframework.stereotype.Repository;import vn.edu.iuh.fit.entity.Tour;import java.math.BigDecimal;import java.util.Optional;import java.util.UUID;@Repositorypublic interface TourRepository extends JpaRepository<Tour, UUID> {    //Lấy danh sách tour theo giá tiền trung bình theo page    @Query("SELECT t FROM Tour t LEFT JOIN FETCH t.departures WHERE t.price BETWEEN :minPrice AND :maxPrice")    Page<Tour> findToursWithPriceRange(BigDecimal minPrice, BigDecimal maxPrice, Pageable pageable);    @EntityGraph(attributePaths = {"departures", "tourDestinations", "reviews"})    Optional<Tour> findById(UUID id);}